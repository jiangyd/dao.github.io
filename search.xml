<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[通过ssh config配置, 使git用不同私钥提交代码]]></title>
    <url>%2F2018%2F05%2F15%2F%E9%80%9A%E8%BF%87ssh-config%E9%85%8D%E7%BD%AE-%E4%BD%BFgit%E7%94%A8%E4%B8%8D%E5%90%8C%E7%A7%81%E9%92%A5%E6%8F%90%E4%BA%A4%E4%BB%A3%E7%A0%81%2F</url>
    <content type="text"><![CDATA[我有在用hexo部署blog在github上，本地构建完成后，直接可以把编译后的文件部署上去 但是，我希望源文件也可以存放在github上，所以我又搞了一个仓库地址 但是在当前目录提交代码时，只能提交一个，另一个提交不了，因为默认使用的私钥文件不对 为了区分开来，我只能配置不同的私钥文件,可以参考下我的配置文件 123456789101112131415$ touch ~/.ssh/config$ vim ~/.ssh/configHOST server1 HOSTNAME 192.168.56.102 User jiangyd Port 3333HOST gitblog.com HOSTNAME github.com IdentityFile ~/.ssh/id_rsaHOST github.com HOSTNAME github.com IdentityFile ~/.ssh/github.com 参数 说明 HOST 别名HOSTNAME 主机User 用户名Port 端口IdentityFile 私钥文件 连接例子 12$ ssh server1jiangyd@192.168.56.102&apos;s password: 我的hexo _config.yml github仓库配置，注意这里用别名 1234deploy: type: git repo: git@gitblog.com:jiangyd/jiangyd.github.io branch: master 这样我就可以在hexo blog项目里面，即可以提交源代码到Github，又可以提交构建部署的代码到Github因为部署的github与源代码仓库地址不是一个]]></content>
      <tags>
        <tag>ssh</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[容器与宿主机时区不一致问题]]></title>
    <url>%2F2018%2F05%2F09%2F%E5%AE%B9%E5%99%A8%E4%B8%8E%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%97%B6%E5%8C%BA%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[docker 容器时区与宿主机时区保持一致 方法1 共享宿主机的local time 1docker run -it -v /etc/localtime:/etc/localtime -v /etc/timezone:/etc/timezone ubuntu:16.04 /bin/bash 方法2 在dockerfile中定义 1234567RUN /bin/cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \ &amp;&amp; echo &apos;Asia/Shanghai&apos; &gt;/etc/timezone \或者RUN /bin/cp /etc/localtime /etc/localtime \ &amp;&amp; echo &apos;Asia/Shanghai&apos; &gt;/etc/timezone \]]></content>
      <tags>
        <tag>－ docker - 挂载</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu apt使用阿里源]]></title>
    <url>%2F2018%2F05%2F09%2Fubuntu-apt%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E6%BA%90%2F</url>
    <content type="text"><![CDATA[ubuntu 14.04使用阿里的软件源 备份 1# cp /etc/apt/sources.list /etc/apt/sources.list.bak 替换 12345678910111213141516cat &gt;/etc/apt/sources.list&lt;&lt;EOFdeb https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiversedeb https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiversedeb-src https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse## Not recommended# deb https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse# deb-src https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverseEOF 最后执行apt更新 1# apt-get update 其它系统参考此地址 https://opsx.alibaba.com/mirror]]></content>
      <tags>
        <tag>apt</tag>
        <tag>apt-get</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Linux下使用sed替换dns地址]]></title>
    <url>%2F2018%2F05%2F09%2FLinux%E4%B8%8B%E4%BD%BF%E7%94%A8sed%E6%9B%BF%E6%8D%A2dns%E5%9C%B0%E5%9D%80%2F</url>
    <content type="text"><![CDATA[sed替换/etc/resolv.conf文件的dns地址123456789# cat /etc/resolv.confnameserver 114.114.114.114nameserver 8.8.8.8# sed -i &apos;s/[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;/172.16.0.244/g&apos; /etc/resolv.conf# cat /etc/resolv.confnameserver 172.16.0.244nameserver 172.16.0.244]]></content>
      <tags>
        <tag>－ sed</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ubuntu使用bind9搭建DNS]]></title>
    <url>%2F2018%2F05%2F07%2Fubuntu%E4%BD%BF%E7%94%A8bind9%E6%90%AD%E5%BB%BADNS%2F</url>
    <content type="text"><![CDATA[安装bind912$ sudo apt-get update$ sudo apt-get install bind9 默认配置文件路径12$ pwd/etc/bind 添加域名正反向解析配置1234567891011121314151617$ sudo vim named.conf.default-zoneszone &quot;jiangyd.cn&quot; &#123; type master; file &quot;/etc/bind/db.jiangyd.cn&quot;;&#125;;zone &quot;56.168.192.in-addr.arpa&quot; &#123; type master; file &quot;/etc/bind/192.168.56.zone&quot;;&#125;;zone &quot;ipad.jiangyd.com.cn&quot; &#123; type master; file &quot;/etc/bind/ipad.jiangyd.com.cn&quot;;&#125;; 正向解析 12345678910111213141516171819# cat db.jiangyd.cn;; BIND data file for local loopback interface;$TTL 604800@ IN SOA jiangyd.cn. root.localhost. ( 2 ; Serial 604800 ; Refresh 86400 ; Retry 2419200 ; Expire 604800 ) ; Negative Cache TTL;@ IN NS jiangyd.cn.@ IN A 127.0.0.1@ IN AAAA ::1www IN A 192.168.56.102bbs IN A 192.168.56.102music IN A 192.168.56.1 反向解析 12345678910111213141516# cat 192.168.56.zone;; BIND reverse data file for local loopback interface;$TTL 604800@ IN SOA jiangyd.cn. root.localhost. ( 1 ; Serial 604800 ; Refresh 86400 ; Retry 2419200 ; Expire 604800 ) ; Negative Cache TTL;@ IN NS jiangyd.cn.102 IN PTR www.jiangyd.cn.102 IN PTR bbs.jiangyd.cn.1 IN PTR music.jiangyd.cn. 有的应用需要为不同用户分配不同域名，试试泛解析 1234567891011121314151617181920# cat ipad.jiangyd.com.cn;; BIND data file for local loopback interface;$TTL 604800@ IN SOA ipad.jiangyd.com.cn. root.localhost. ( 2 ; Serial 604800 ; Refresh 86400 ; Retry 2419200 ; Expire 604800 ) ; Negative Cache TTL;@ IN NS ipad.jiangyd.com.cn.@ IN A 127.0.0.1@ IN AAAA ::1www IN A 192.168.56.1bbs IN A 192.168.56.102* IN A 192.168.56.1 正反向解析测试 12345678910111213141516171819202122232425262728293031root@jiangydpc:/etc/bind# ping www.jiangyd.cnPING www.jiangyd.cn (192.168.56.102) 56(84) bytes of data.64 bytes from dns.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.069 ms64 bytes from dns.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.026 ms^C--- www.jiangyd.cn ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 999msrtt min/avg/max/mdev = 0.026/0.047/0.069/0.022 msroot@jiangydpc:/etc/bind# ping bbs.jiangyd.cnPING bbs.jiangyd.cn (192.168.56.102) 56(84) bytes of data.64 bytes from www.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.010 ms64 bytes from www.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.023 ms^C--- bbs.jiangyd.cn ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 999msrtt min/avg/max/mdev = 0.010/0.016/0.023/0.007 msroot@jiangydpc:/etc/bind# ping music.jiangyd.cnPING music.jiangyd.cn (192.168.56.1) 56(84) bytes of data.64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.277 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.355 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=3 ttl=64 time=0.203 ms^C--- music.jiangyd.cn ping statistics ---3 packets transmitted, 3 received, 0% packet loss, time 1999msrtt min/avg/max/mdev = 0.203/0.278/0.355/0.063 msroot@jiangydpc:/etc/bind# host -t PTR 192.168.56.11.56.168.192.in-addr.arpa domain name pointer music.jiangyd.cn.root@jiangydpc:/etc/bind# host -t PTR 192.168.56.102102.56.168.192.in-addr.arpa domain name pointer dns.jiangyd.cn.102.56.168.192.in-addr.arpa domain name pointer www.jiangyd.cn.102.56.168.192.in-addr.arpa domain name pointer bbs.jiangyd.cn. 泛解析,前面域名可以随便填写了 123456789101112131415161718192021222324252627282930313233root@jiangydpc:/etc/bind# ping wqewweq.ipad.jiangyd.com.cnPING wqewweq.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.295 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.358 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=3 ttl=64 time=0.246 ms^C--- wqewweq.ipad.jiangyd.com.cn ping statistics ---3 packets transmitted, 3 received, 0% packet loss, time 2000msrtt min/avg/max/mdev = 0.246/0.299/0.358/0.050 msroot@jiangydpc:/etc/bind# ping www.ipad.jiangyd.com.cnPING www.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.194 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.289 ms^C--- www.ipad.jiangyd.com.cn ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 1002msrtt min/avg/max/mdev = 0.194/0.241/0.289/0.049 msroot@jiangydpc:/etc/bind# ping bbs.ipad.jiangyd.com.cnPING bbs.ipad.jiangyd.com.cn (192.168.56.102) 56(84) bytes of data.64 bytes from bbs.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.019 ms64 bytes from bbs.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.030 ms^C--- bbs.ipad.jiangyd.com.cn ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 1001msrtt min/avg/max/mdev = 0.019/0.024/0.030/0.007 msroot@jiangydpc:/etc/bind# ping 56789.ipad.jiangyd.com.cnPING 56789.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.343 ms64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.306 ms^C--- 56789.ipad.jiangyd.com.cn ping statistics ---2 packets transmitted, 2 received, 0% packet loss, time 999msrtt min/avg/max/mdev = 0.306/0.324/0.343/0.025 ms 查看日志我的系统是ubuntu 14.04 1tailf /var/log/syslog bind9 重启，停止，状态,及端口 1234567891011121314151617181920# /etc/init.d/bind9 status * bind9 is runningroot@jiangydpc:/etc/bind# /etc/init.d/bind9 stop * Stopping domain name service... bind9 waiting for pid 4039 to die [ OK ]root@jiangydpc:/etc/bind# /etc/init.d/bind9 start * Starting domain name service... bind9 [ OK ]root@jiangydpc:/etc/bind# /etc/init.d/bind9 restart * Stopping domain name service... bind9 [ OK ] * Starting domain name service... bind9 [ OK ]root@jiangydpc:/etc/bind# netstat -lntpActive Internet connections (only servers)Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program nametcp 0 0 192.168.56.102:53 0.0.0.0:* LISTEN 4133/namedtcp 0 0 10.100.3.52:53 0.0.0.0:* LISTEN 4133/namedtcp 0 0 127.0.0.1:53 0.0.0.0:* LISTEN 4133/namedtcp 0 0 127.0.0.1:953 0.0.0.0:* LISTEN 4133/namedtcp 0 0 127.0.0.1:8123 0.0.0.0:* LISTEN 1229/polipotcp 0 0 0.0.0.0:3333 0.0.0.0:* LISTEN 1092/sshdtcp6 0 0 :::53 :::* LISTEN 4133/named]]></content>
      <tags>
        <tag>dns</tag>
        <tag>bind9</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker cp]]></title>
    <url>%2F2018%2F05%2F06%2Fdocker-cp%2F</url>
    <content type="text"><![CDATA[docker cp 使用记录把容器里面的文件，目录拷贝到宿主机 1$docker cp 2f4f188c5d1c:/etc/nginx/conf.d/testing.www.cloudcare.cn.conf nginx_conf/ 1$docker cp 2f4f188c5d1c:/etc/nginx/conf.d/ nginx_conf/]]></content>
      <categories>
        <category>docker常用命令</category>
      </categories>
      <tags>
        <tag>docker</tag>
        <tag>cp</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[docker logs]]></title>
    <url>%2F2018%2F05%2F06%2Fdocker-logs%2F</url>
    <content type="text"><![CDATA[docker logs 使用记录最近常用到容器的这个命令 12345678910111213$ docker logs --helpUsage: docker logs [OPTIONS] CONTAINERFetch the logs of a containerOptions: --details Show extra details provided to logs -f, --follow Follow log output --help Print usage --since string Show logs since timestamp --tail string Number of lines to show from the end of the logs (default &quot;all&quot;) -t, --timestamps Show timestamps 实时查看日志1$ docker logs -f a13d7f1818d6 查看日志产生的时间 12$ docker logs -t a13d7f1818d62018-05-06T08:53:26.689471000Z INFO:callme.server:Server with id=&apos;cloudcare&apos; started. 查看最后多少条日志 1docker logs -f --tail=10 a13d7f1818d6]]></content>
      <categories>
        <category>docker常用命令</category>
      </categories>
      <tags>
        <tag>docker</tag>
      </tags>
  </entry>
</search>
