<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>ubuntu apt使用阿里源</title>
      <link href="/2018/05/09/ubuntu-apt%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E6%BA%90/"/>
      <url>/2018/05/09/ubuntu-apt%E4%BD%BF%E7%94%A8%E9%98%BF%E9%87%8C%E6%BA%90/</url>
      <content type="html"><![CDATA[<h4 id="ubuntu-14-04使用阿里的软件源"><a href="#ubuntu-14-04使用阿里的软件源" class="headerlink" title="ubuntu 14.04使用阿里的软件源"></a>ubuntu 14.04使用阿里的软件源</h4><blockquote><p>备份</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp /etc/apt/sources.list /etc/apt/sources.list.bak</span><br></pre></td></tr></table></figure><blockquote><p>替换</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">cat &gt;/etc/apt/sources.list&lt;&lt;EOF</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse</span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line">deb-src https://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">## Not recommended</span><br><span class="line"># deb https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><blockquote><p>其它系统参考此地址</p></blockquote><p><a href="https://opsx.alibaba.com/mirror" target="_blank" rel="noopener">https://opsx.alibaba.com/mirror</a></p>]]></content>
      
      
        <tags>
            
            <tag> apt </tag>
            
            <tag> apt-get </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>Linux下使用sed替换dns地址</title>
      <link href="/2018/05/09/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8sed%E6%9B%BF%E6%8D%A2dns%E5%9C%B0%E5%9D%80/"/>
      <url>/2018/05/09/Linux%E4%B8%8B%E4%BD%BF%E7%94%A8sed%E6%9B%BF%E6%8D%A2dns%E5%9C%B0%E5%9D%80/</url>
      <content type="html"><![CDATA[<h4 id="sed替换-etc-resolv-conf文件的dns地址"><a href="#sed替换-etc-resolv-conf文件的dns地址" class="headerlink" title="sed替换/etc/resolv.conf文件的dns地址"></a>sed替换/etc/resolv.conf文件的dns地址</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># cat /etc/resolv.conf</span><br><span class="line">nameserver 114.114.114.114</span><br><span class="line">nameserver 8.8.8.8</span><br><span class="line"></span><br><span class="line"># sed -i &apos;s/[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;\.[0-9]\&#123;1,3\&#125;/172.16.0.244/g&apos; /etc/resolv.conf</span><br><span class="line"></span><br><span class="line"># cat /etc/resolv.conf</span><br><span class="line">nameserver 172.16.0.244</span><br><span class="line">nameserver 172.16.0.244</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> － sed </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>ubuntu使用bind9搭建DNS</title>
      <link href="/2018/05/07/ubuntu%E4%BD%BF%E7%94%A8bind9%E6%90%AD%E5%BB%BADNS/"/>
      <url>/2018/05/07/ubuntu%E4%BD%BF%E7%94%A8bind9%E6%90%AD%E5%BB%BADNS/</url>
      <content type="html"><![CDATA[<h4 id="安装bind9"><a href="#安装bind9" class="headerlink" title="安装bind9"></a>安装bind9</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get update</span><br><span class="line">$ sudo apt-get install bind9</span><br></pre></td></tr></table></figure><h4 id="默认配置文件路径"><a href="#默认配置文件路径" class="headerlink" title="默认配置文件路径"></a>默认配置文件路径</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pwd</span><br><span class="line">/etc/bind</span><br></pre></td></tr></table></figure><h4 id="添加域名正反向解析配置"><a href="#添加域名正反向解析配置" class="headerlink" title="添加域名正反向解析配置"></a>添加域名正反向解析配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim named.conf.default-zones</span><br><span class="line"></span><br><span class="line">zone &quot;jiangyd.cn&quot; &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;/etc/bind/db.jiangyd.cn&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zone &quot;56.168.192.in-addr.arpa&quot; &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;/etc/bind/192.168.56.zone&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">zone &quot;ipad.jiangyd.com.cn&quot; &#123;</span><br><span class="line">type master;</span><br><span class="line">file &quot;/etc/bind/ipad.jiangyd.com.cn&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>正向解析</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># cat db.jiangyd.cn</span><br><span class="line">;</span><br><span class="line">; BIND data file for local loopback interface</span><br><span class="line">;</span><br><span class="line">$TTL604800</span><br><span class="line">@INSOAjiangyd.cn. root.localhost. (</span><br><span class="line">      2; Serial</span><br><span class="line"> 604800; Refresh</span><br><span class="line">  86400; Retry</span><br><span class="line">2419200; Expire</span><br><span class="line"> 604800 ); Negative Cache TTL</span><br><span class="line">;</span><br><span class="line">@INNSjiangyd.cn.</span><br><span class="line">@INA127.0.0.1</span><br><span class="line">@INAAAA::1</span><br><span class="line"></span><br><span class="line">www     IN      A      192.168.56.102</span><br><span class="line">bbs     IN      A      192.168.56.102</span><br><span class="line">music   IN      A      192.168.56.1</span><br></pre></td></tr></table></figure><blockquote><p>反向解析</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># cat 192.168.56.zone</span><br><span class="line">;</span><br><span class="line">; BIND reverse data file for local loopback interface</span><br><span class="line">;</span><br><span class="line">$TTL604800</span><br><span class="line">@INSOAjiangyd.cn. root.localhost. (</span><br><span class="line">      1; Serial</span><br><span class="line"> 604800; Refresh</span><br><span class="line">  86400; Retry</span><br><span class="line">2419200; Expire</span><br><span class="line"> 604800 ); Negative Cache TTL</span><br><span class="line">;</span><br><span class="line">@INNS     jiangyd.cn.</span><br><span class="line">102     IN      PTR    www.jiangyd.cn.</span><br><span class="line">102     IN      PTR    bbs.jiangyd.cn.</span><br><span class="line">1       IN      PTR    music.jiangyd.cn.</span><br></pre></td></tr></table></figure><blockquote><p>有的应用需要为不同用户分配不同域名，试试泛解析</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># cat ipad.jiangyd.com.cn</span><br><span class="line">;</span><br><span class="line">; BIND data file for local loopback interface</span><br><span class="line">;</span><br><span class="line">$TTL604800</span><br><span class="line">@INSOAipad.jiangyd.com.cn. root.localhost. (</span><br><span class="line">      2; Serial</span><br><span class="line"> 604800; Refresh</span><br><span class="line">  86400; Retry</span><br><span class="line">2419200; Expire</span><br><span class="line"> 604800 ); Negative Cache TTL</span><br><span class="line">;</span><br><span class="line">@INNSipad.jiangyd.com.cn.</span><br><span class="line">@INA127.0.0.1</span><br><span class="line">@INAAAA::1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">www  IN  A  192.168.56.1</span><br><span class="line">bbs  IN  A  192.168.56.102</span><br><span class="line">*    IN  A  192.168.56.1</span><br></pre></td></tr></table></figure><blockquote><p>正反向解析测试</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">root@jiangydpc:/etc/bind# ping www.jiangyd.cn</span><br><span class="line">PING www.jiangyd.cn (192.168.56.102) 56(84) bytes of data.</span><br><span class="line">64 bytes from dns.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.069 ms</span><br><span class="line">64 bytes from dns.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.026 ms</span><br><span class="line">^C</span><br><span class="line">--- www.jiangyd.cn ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 999ms</span><br><span class="line">rtt min/avg/max/mdev = 0.026/0.047/0.069/0.022 ms</span><br><span class="line">root@jiangydpc:/etc/bind# ping bbs.jiangyd.cn</span><br><span class="line">PING bbs.jiangyd.cn (192.168.56.102) 56(84) bytes of data.</span><br><span class="line">64 bytes from www.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.010 ms</span><br><span class="line">64 bytes from www.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.023 ms</span><br><span class="line">^C</span><br><span class="line">--- bbs.jiangyd.cn ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 999ms</span><br><span class="line">rtt min/avg/max/mdev = 0.010/0.016/0.023/0.007 ms</span><br><span class="line">root@jiangydpc:/etc/bind# ping music.jiangyd.cn</span><br><span class="line">PING music.jiangyd.cn (192.168.56.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.277 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.355 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=3 ttl=64 time=0.203 ms</span><br><span class="line">^C</span><br><span class="line">--- music.jiangyd.cn ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 1999ms</span><br><span class="line">rtt min/avg/max/mdev = 0.203/0.278/0.355/0.063 ms</span><br><span class="line">root@jiangydpc:/etc/bind# host -t PTR 192.168.56.1</span><br><span class="line">1.56.168.192.in-addr.arpa domain name pointer music.jiangyd.cn.</span><br><span class="line">root@jiangydpc:/etc/bind# host -t PTR 192.168.56.102</span><br><span class="line">102.56.168.192.in-addr.arpa domain name pointer dns.jiangyd.cn.</span><br><span class="line">102.56.168.192.in-addr.arpa domain name pointer www.jiangyd.cn.</span><br><span class="line">102.56.168.192.in-addr.arpa domain name pointer bbs.jiangyd.cn.</span><br></pre></td></tr></table></figure><blockquote><p>泛解析,前面域名可以随便填写了</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">root@jiangydpc:/etc/bind# ping wqewweq.ipad.jiangyd.com.cn</span><br><span class="line">PING wqewweq.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.295 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.358 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=3 ttl=64 time=0.246 ms</span><br><span class="line">^C</span><br><span class="line">--- wqewweq.ipad.jiangyd.com.cn ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 2000ms</span><br><span class="line">rtt min/avg/max/mdev = 0.246/0.299/0.358/0.050 ms</span><br><span class="line">root@jiangydpc:/etc/bind# ping www.ipad.jiangyd.com.cn</span><br><span class="line">PING www.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.194 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.289 ms</span><br><span class="line">^C</span><br><span class="line">--- www.ipad.jiangyd.com.cn ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 1002ms</span><br><span class="line">rtt min/avg/max/mdev = 0.194/0.241/0.289/0.049 ms</span><br><span class="line">root@jiangydpc:/etc/bind# ping bbs.ipad.jiangyd.com.cn</span><br><span class="line">PING bbs.ipad.jiangyd.com.cn (192.168.56.102) 56(84) bytes of data.</span><br><span class="line">64 bytes from bbs.jiangyd.cn (192.168.56.102): icmp_seq=1 ttl=64 time=0.019 ms</span><br><span class="line">64 bytes from bbs.jiangyd.cn (192.168.56.102): icmp_seq=2 ttl=64 time=0.030 ms</span><br><span class="line">^C</span><br><span class="line">--- bbs.ipad.jiangyd.com.cn ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 1001ms</span><br><span class="line">rtt min/avg/max/mdev = 0.019/0.024/0.030/0.007 ms</span><br><span class="line">root@jiangydpc:/etc/bind# ping 56789.ipad.jiangyd.com.cn</span><br><span class="line">PING 56789.ipad.jiangyd.com.cn (192.168.56.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=1 ttl=64 time=0.343 ms</span><br><span class="line">64 bytes from music.jiangyd.cn (192.168.56.1): icmp_seq=2 ttl=64 time=0.306 ms</span><br><span class="line">^C</span><br><span class="line">--- 56789.ipad.jiangyd.com.cn ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 999ms</span><br><span class="line">rtt min/avg/max/mdev = 0.306/0.324/0.343/0.025 ms</span><br></pre></td></tr></table></figure><blockquote><p>查看日志<br>我的系统是ubuntu 14.04 </p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tailf /var/log/syslog</span><br></pre></td></tr></table></figure><blockquote><p>bind9 重启，停止，状态,及端口</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># /etc/init.d/bind9 status</span><br><span class="line"> * bind9 is running</span><br><span class="line">root@jiangydpc:/etc/bind# /etc/init.d/bind9 stop</span><br><span class="line"> * Stopping domain name service... bind9                                                                                                     waiting for pid 4039 to die</span><br><span class="line">                                                                                                                                      [ OK ]</span><br><span class="line">root@jiangydpc:/etc/bind# /etc/init.d/bind9 start</span><br><span class="line"> * Starting domain name service... bind9                                                                                              [ OK ]</span><br><span class="line">root@jiangydpc:/etc/bind# /etc/init.d/bind9 restart</span><br><span class="line"> * Stopping domain name service... bind9                                                                                              [ OK ]</span><br><span class="line"> * Starting domain name service... bind9                                                                                              [ OK ]</span><br><span class="line">root@jiangydpc:/etc/bind# netstat -lntp</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name</span><br><span class="line">tcp        0      0 192.168.56.102:53       0.0.0.0:*               LISTEN      4133/named</span><br><span class="line">tcp        0      0 10.100.3.52:53          0.0.0.0:*               LISTEN      4133/named</span><br><span class="line">tcp        0      0 127.0.0.1:53            0.0.0.0:*               LISTEN      4133/named</span><br><span class="line">tcp        0      0 127.0.0.1:953           0.0.0.0:*               LISTEN      4133/named</span><br><span class="line">tcp        0      0 127.0.0.1:8123          0.0.0.0:*               LISTEN      1229/polipo</span><br><span class="line">tcp        0      0 0.0.0.0:3333            0.0.0.0:*               LISTEN      1092/sshd</span><br><span class="line">tcp6       0      0 :::53                   :::*                    LISTEN      4133/named</span><br></pre></td></tr></table></figure>]]></content>
      
      
        <tags>
            
            <tag> dns </tag>
            
            <tag> bind9 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>docker cp</title>
      <link href="/2018/05/06/docker-cp/"/>
      <url>/2018/05/06/docker-cp/</url>
      <content type="html"><![CDATA[<h3 id="docker-cp-使用记录"><a href="#docker-cp-使用记录" class="headerlink" title="docker cp 使用记录"></a>docker cp 使用记录</h3><p>把容器里面的文件，目录拷贝到宿主机</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$docker cp 2f4f188c5d1c:/etc/nginx/conf.d/testing.www.cloudcare.cn.conf nginx_conf/</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$docker cp 2f4f188c5d1c:/etc/nginx/conf.d/ nginx_conf/</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> docker常用命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> cp </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>docker logs</title>
      <link href="/2018/05/06/docker-logs/"/>
      <url>/2018/05/06/docker-logs/</url>
      <content type="html"><![CDATA[<h3 id="docker-logs-使用记录"><a href="#docker-logs-使用记录" class="headerlink" title="docker logs 使用记录"></a>docker logs 使用记录</h3><p>最近常用到容器的这个命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs --help</span><br><span class="line"></span><br><span class="line">Usage:docker logs [OPTIONS] CONTAINER</span><br><span class="line"></span><br><span class="line">Fetch the logs of a container</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">      --details        Show extra details provided to logs</span><br><span class="line">  -f, --follow         Follow log output</span><br><span class="line">      --help           Print usage</span><br><span class="line">      --since string   Show logs since timestamp</span><br><span class="line">      --tail string    Number of lines to show from the end of the logs (default &quot;all&quot;)</span><br><span class="line">  -t, --timestamps     Show timestamps</span><br></pre></td></tr></table></figure><p>实时查看日志<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs -f a13d7f1818d6</span><br></pre></td></tr></table></figure></p><p>查看日志产生的时间</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ docker logs -t  a13d7f1818d6</span><br><span class="line">2018-05-06T08:53:26.689471000Z INFO:callme.server:Server with id=&apos;cloudcare&apos; started.</span><br></pre></td></tr></table></figure><p>查看最后多少条日志</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs -f --tail=10 a13d7f1818d6</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> docker常用命令 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
